# setup_testing_data.R
# rich fiorella

rm(list=ls())

library(rhdf5)

trim_external_data <- function(file, type = "daily") {
    fid <- H5Fopen(file)
    
      # delete higher level data products
      try(h5delete(fid, '/ONAQ/dp04/'))
      try(h5delete(fid, '/ONAQ/dp03/'))
      try(h5delete(fid, '/ONAQ/dp02/'))
      try(h5delete(fid, '/ONAQ/dp0p/'))
      try(h5delete(fid, '/ONAQ/dp01/qfqm/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/co2Stor/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/co2Turb/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/amrs/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/soni/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/h2oStor/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/h2oTurb/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/tempAirLvl/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Arch_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/radiNet/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/tempSoil/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Arch_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/presBaro/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/tempAirTop/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/h2oSoilVol/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/fluxHeatSoil/'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_03m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_03m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_03m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_03m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_03m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_03m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_03m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_03m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_03m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_03m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_03m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_03m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oLow_03m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oMed_03m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/h2oHigh_03m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_30m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/pres'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/presEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/rhEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/tempEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/temp'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_010_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_020_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_010_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_020_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_030_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoH2o/000_040_09m'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/rtioMoleWetH2oEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/rtioMoleWetH2oEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/rtioMoleWet12CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/rtioMoleWet12CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_030_09m/rtioMoleWet13CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/000_040_09m/rtioMoleWet13CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/rtioMoleWetH2oEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/rtioMoleWet12CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Low_09m/rtioMoleWet13CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/rtioMoleWetH2oEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/rtioMoleWet12CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2Med_09m/rtioMoleWet13CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/rtioMoleWetH2oEnvHut'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/rtioMoleWet12CCo2'))
      try(h5delete(fid, '/ONAQ/dp01/ucrt/isoCo2/co2High_09m/rtioMoleWet13CCo2'))
      # trim a bunch of unnecessary products.
      try(h5delete(fid, '/ONAQ/dp01/data/co2Stor/'))
      try(h5delete(fid, '/ONAQ/dp01/data/h2oStor/'))
      try(h5delete(fid, '/ONAQ/dp01/data/co2Turb/'))
      try(h5delete(fid, '/ONAQ/dp01/data/h2oTurb/'))
      try(h5delete(fid, '/ONAQ/dp01/data/fluxHeatSoil/'))

    try(h5delete(fid, '/ONAQ/dp01/data/amrs/'))
    try(h5delete(fid, '/ONAQ/dp01/data/tempAiLvl/'))
    try(h5delete(fid, '/ONAQ/dp01/data/radiNet/'))
    try(h5delete(fid, '/ONAQ/dp01/data/soni/'))
    try(h5delete(fid, '/ONAQ/dp01/data/tempSoil/'))
    try(h5delete(fid, '/ONAQ/dp01/data/h2oSoilVol/'))
    try(h5delete(fid, '/ONAQ/dp01/data/presBaro/'))
    try(h5delete(fid, '/ONAQ/dp01/data/tempAirTop/'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/co2Arch_09m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/co2High_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/co2Med_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/co2Low_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/co2Arch_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/h2oHigh_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/h2oMed_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/h2oLow_30m'))
    
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_010_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_020_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m/pres'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m/pres'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m/presEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m/presEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m/rhEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m/rhEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m/tempEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m/tempEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m/temp'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m/temp'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_010_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_020_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_30m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/pres'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/pres'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/presEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/presEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/rhEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/rhEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/tempEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/tempEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/temp'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/temp'))
    # 
    # # eh just keep one level for simplicity.
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_030_09m'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoH2o/000_040_09m'))
    # 
    # # keep going...
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/rtioMoleWetH2oEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/rtioMoleWetH2oEnvHut'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/rtioMoleWet12CCo2'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/rtioMoleWet12CCo2'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_030_09m/rtioMoleWet13CCo2'))
    try(h5delete(fid, '/ONAQ/dp01/data/isoCo2/000_040_09m/rtioMoleWet13CCo2'))
    # cut out more:)

    try(h5delete(fid, '/ONAQ/dp01/data/ch4Conc'))
    
    H5Fclose(fid)
}
#----------------------

trim_external_data('../inst/extdata/NEON.D15.ONAQ.DP4.00200.001.nsae.2019-05.basic.packed.h5')

trim_external_data('tmp/NEON.D15.ONAQ.DP4.00200.001.nsae.2019-06-01.basic.h5')
trim_external_data('tmp/NEON.D15.ONAQ.DP4.00200.001.nsae.2019-06-02.basic.h5')
trim_external_data('tmp/NEON.D15.ONAQ.DP4.00200.001.nsae.2019-06-03.basic.h5')


#===============================================================================
#===============================================================================
#===============================================================================
# SECOND DATA FILE - STRIP 2020-11 YELL FILE TO JUST ONE HEIGHT AND STANDARDS

system("cp ~/DP4_00200_001/YELL/NEON.D12.YELL.DP4.00200.001.nsae.2020-11.basic.20210209T161116Z.h5 inst/extdata/")

# if need to generate a new hdf5 sample file...
fid <- H5Fopen("inst/extdata/NEON.D12.YELL.DP4.00200.001.nsae.2020-11.basic.20210209T161116Z.h5")
# delete higher level data products
h5delete(fid, '/YELL/dp04/')
h5delete(fid, '/YELL/dp03/')
h5delete(fid, '/YELL/dp02/')
h5delete(fid, '/YELL/dp0p/')
# trim a bunch of unnecessary products.
h5delete(fid, '/YELL/dp01/qfqm/')
h5delete(fid, '/YELL/dp01/ucrt/')
h5delete(fid, '/YELL/dp01/data/isoH2o/')
h5delete(fid, '/YELL/dp01/data/amrs/')
h5delete(fid, '/YELL/dp01/data/co2Stor/')
h5delete(fid, '/YELL/dp01/data/co2Turb/')
h5delete(fid, '/YELL/dp01/data/fluxHeatSoil/')
h5delete(fid, '/YELL/dp01/data/h2oSoilVol/')
h5delete(fid, '/YELL/dp01/data/h2oStor/')
h5delete(fid, '/YELL/dp01/data/h2oTurb/')
h5delete(fid, '/YELL/dp01/data/presBaro/')
h5delete(fid, '/YELL/dp01/data/radiNet/')
h5delete(fid, '/YELL/dp01/data/soni/')
h5delete(fid, '/YELL/dp01/data/tempAirLvl/')
h5delete(fid, '/YELL/dp01/data/tempSoil/')
h5delete(fid, '/YELL/dp01/data/tempAirTop/')

h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_020_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_030_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_040_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_050_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_020_09m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_030_09m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_040_09m')
h5delete(fid, '/YELL/dp01/data/isoCo2/000_050_09m')
h5delete(fid, '/YELL/dp01/data/isoCo2/co2Arch_09m')
h5delete(fid, '/YELL/dp01/data/isoCo2/co2Arch_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_30m')
h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_30m')
# 
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleWet12CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleWet13CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleDry12CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleDry13CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleWetCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleWetH2oEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rhEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/presEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/tempEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleDryH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/rtioMoleWetH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/temp')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/000_010_09m/pres')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleWet12CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleWet13CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleWetCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleWetH2oEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rhEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/presEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/tempEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleDryH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/rtioMoleWetH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/temp')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2High_09m/pres')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleWet12CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleWet13CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleWetCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleWetH2oEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rhEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/presEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/tempEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleDryH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/rtioMoleWetH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/temp')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Med_09m/pres')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleWet12CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleWet13CCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleWetCo2')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleWetH2oEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rhEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/presEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/tempEnvHut')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleDryH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/rtioMoleWetH2o')
# h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/temp')
# #h5delete(fid, '/YELL/dp01/data/isoCo2/co2Low_09m/pres')

H5Fclose(fid)

system('~/opt/anaconda3/bin/h5repack inst/extdata/NEON.D12.YELL.DP4.00200.001.nsae.2020-11.basic.20210209T161116Z.h5 inst/extdata/NEON.D12.YELL.DP4.00200.001.nsae.2020-11.basic.packed.h5')

